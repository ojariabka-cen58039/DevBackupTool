# Developer Environment Backup & Restore for macOS

This repository contains two shell scripts to **back up** and **restore** a developer's environment on macOS. It includes configuration files, tool settings, and installed packages. Ideal for system migrations, re-installations, or sharing standardized development setups.

Feel free to fork and modify to better suit your needs, also please report and file issues, feature requests, etc. 

Thanks

## üì¶ Contents

- `dev_env_backup.sh` ‚Äì Backs up configuration files, tool states, and package lists into an encrypted DMG archive.
- `dev_env_restore.sh` ‚Äì Restores configurations from the extracted archive and reinstalls Homebrew packages.

---

## üõ†Ô∏è dev_env_backup.sh

### What it does:

- Collects configuration files and directories (e.g., `.zshrc`, `.gitconfig`, `.ssh`, Docker, VS Code, Podman, etc.).
- Exports:
  - Homebrew formulae, casks, and taps (`homebrew_formulas.txt`, `Brewfile`)
  - `pip`, `npm`, `gem` package lists
- Includes optional files like `Gemfile`/`Gemfile.lock` from the home directory
- Packages everything into an **encrypted and compressed DMG archive**
- **Auto-Saves the DMG to user's Documents folder** (can be skipped)
- DMG includes an optional BETA restore script for easier recovery

### Usage:

```zsh
chmod +x dev_env_backup.sh
./dev_env_backup.sh
```

You will be prompted for a password to create the encrypted DMG file. After completion, you can choose whether to delete the staging directory.

---

## üîÅ dev_env_restore.sh

### What it does:

- Restores each file from the backup with user confirmation
- Reinstalls Homebrew packages using the backed-up `Brewfile`
- Logs all actions in `restore_summary.log`

### Prerequisites:

- CLI Tools and Homebrew must be installed before running the restore script.

### Usage:

1. Mount the DMG archive generated by the backup script.
2. in Terminal, run:

```zsh
cp -Rp /Volumes/DevBackup ~/DevBackupRestore
cd ~/DevBackupRestore
chmod +x dev_env_restore.sh
./dev_env_restore.sh
```

3. Homebrew packages are restored automatically if `brew` and `Brewfile` are present.
4. Keychains are automatically moved to their original locations with -OLD name change kept. 

---

## üîê Security

- The backup is stored in a **password-protected DMG**, encrypted using macOS's native `hdiutil` tool.
- No data is uploaded; everything remains local to your machine.

---

## üìÅ Example Files Backed Up

- Shell configs: `.zshrc`, `.bash_profile`, etc.
- Git: `.gitconfig`, `.git-credentials`
- SSH: `.ssh`
- Docker: `~/.docker`, `~/Library/Group Containers/group.com.docker`
- VS Code: `~/Library/Application Support/Code`
- Podman configs and containers
- Package manager lists for Homebrew, pip, npm, gem

---

## ‚ö†Ô∏è Disclaimer

Always review the included files before creating or restoring backups.

---

## ‚úçÔ∏è Author

O. Jariabka ‚Äì [ojariabka@csas.cz](mailto:ojariabka@csas.cz)
